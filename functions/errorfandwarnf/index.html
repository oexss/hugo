<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="将以下英文翻译为中文： errorf and warnf # https://gohugo.io/functions/errorf/ Log ERROR or WARNING from the templates. 语法 # errorf FORMAT INPUT errorf or warnf will evaluate a format string, then output the result to the ERROR or WARNING log (and only once per error message to avoid flooding the log). Any ERROR will also cause the build to fail (the hugo command"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://t.is-local.org/hugo/functions/errorfandwarnf/"><meta property="og:site_name" content="HUGO"><meta property="og:title" content="errorf 和 warnf"><meta property="og:description" content="将以下英文翻译为中文： errorf and warnf # https://gohugo.io/functions/errorf/ Log ERROR or WARNING from the templates. 语法 # errorf FORMAT INPUT errorf or warnf will evaluate a format string, then output the result to the ERROR or WARNING log (and only once per error message to avoid flooding the log). Any ERROR will also cause the build to fail (the hugo command"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="functions"><meta property="article:published_time" content="2023-05-18T17:03:08+08:00"><meta property="article:modified_time" content="2023-05-18T17:03:08+08:00"><title>errorf 和 warnf | HUGO</title>
<link rel=manifest href=/hugo/manifest.json><link rel=icon href=/hugo/favicon.png><link rel=canonical href=https://t.is-local.org/hugo/functions/errorfandwarnf/><link rel=stylesheet href=/hugo/book.min.309b7ed028807cdb68d8d61e26d609f48369c098dbf5e4d8c0dcf4cdf49feafc.css integrity="sha256-MJt+0CiAfNto2NYeJtYJ9INpwJjb9eTYwNz0zfSf6vw=" crossorigin=anonymous><script defer src=/hugo/fuse.min.js></script><script defer src=/hugo/zh-cn.search.min.a426f3a0e1e8951a39b1b352645e382bb08b14b3d53468b1f8b07b0d0928cfe6.js integrity="sha256-pCbzoOHolRo5sbNSZF44K7CLFLPVNGix+LB7DQkoz+Y=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/hugo/><span>HUGO</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder aria-label maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul class=book-languages><li><input type=checkbox id=languages class=toggle>
<label for=languages class="flex justify-between"><a role=button class="flex align-center"><img src=/hugo/svg/translate.svg class=book-icon alt=Languages>
中文</a></label><ul><li><a href=https://t.is-local.org/hugo/en/>English</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/hugo/svg/menu.svg class=book-icon alt=Menu>
</label><strong>errorf 和 warnf</strong>
<label for=toc-control><img src=/hugo/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#语法>语法</a></li><li><a href=#suppress-errors>Suppress errors</a></li><li><a href=#另请参阅>另请参阅</a></li></ul></nav></aside></header><article class="markdown book-article"><p>将以下英文翻译为中文：</p><h1 id=errorf-and-warnf>errorf and warnf
<a class=anchor href=#errorf-and-warnf>#</a></h1><p><a href=https://gohugo.io/functions/errorf/>https://gohugo.io/functions/errorf/</a></p><p>Log ERROR or WARNING from the templates.</p><h2 id=语法>语法
<a class=anchor href=#%e8%af%ad%e6%b3%95>#</a></h2><pre tabindex=0><code>errorf FORMAT INPUT
</code></pre><p><code>errorf</code> or <code>warnf</code> will evaluate a format string, then output the result to the ERROR or WARNING log (and only once per error message to avoid flooding the log).</p><p>Any ERROR will also cause the build to fail (the <code>hugo</code> command will <code>exit -1</code>).</p><p>Both functions return an empty string, so the messages are only printed to the console.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>errorf</span> <span style=color:#e6db74>&#34;Failed to handle page %q&#34;</span> <span style=color:#a6e22e>.Path</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>warnf</span> <span style=color:#e6db74>&#34;You should update the shortcodes in %q&#34;</span> <span style=color:#a6e22e>.Path</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><p>Note that <code>errorf</code>, <code>erroridf</code>, and <code>warnf</code> support all the formatting verbs of the <a href=https://pkg.go.dev/fmt>fmt</a> package.</p><h2 id=suppress-errors>Suppress errors
<a class=anchor href=#suppress-errors>#</a></h2><p>Sometimes it may make sense to let the user suppress an ERROR and make the build succeed.</p><p>You can do this by using the <code>erroridf</code> function. This functions takes an error ID as the first argument.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>erroridf</span> <span style=color:#e6db74>&#34;my-custom-error&#34;</span> <span style=color:#e6db74>&#34;You should consider fixing this.&#34;</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><p>This will produce:</p><pre tabindex=0><code>ERROR 2021/06/07 17:47:38 You should consider fixing this.
If you feel that this should not be logged as an ERROR, you can ignore it by adding this to your site config:
ignoreErrors = [&#34;my-custom-error&#34;]
</code></pre><h2 id=另请参阅>另请参阅
<a class=anchor href=#%e5%8f%a6%e8%af%b7%e5%8f%82%e9%98%85>#</a></h2><ul><li><a href=https://gohugo.io/functions/anchorize/>anchorize</a></li><li><a href=https://gohugo.io/functions/emojify/>emojify</a></li><li><a href=https://gohugo.io/functions/float/>float</a></li><li><a href=https://gohugo.io/functions/htmlescape/>htmlEscape</a></li><li><a href=https://gohugo.io/functions/humanize/>humanize</a></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#语法>语法</a></li><li><a href=#suppress-errors>Suppress errors</a></li><li><a href=#另请参阅>另请参阅</a></li></ul></nav></div></aside></main></body></html>