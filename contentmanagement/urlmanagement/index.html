<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="URL Management - URL管理 # https://gohugo.io/content-management/urls/ ​ 通过前置元数据输入和站点配置中的设置来控制URL的结构和外观。 概述 # ​ 默认情况下，当Hugo渲染页面时，生成的URL与"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://t.is-local.org/hugo/contentmanagement/urlmanagement/"><meta property="og:site_name" content="HUGO"><meta property="og:title" content="URL管理"><meta property="og:description" content="URL Management - URL管理 # https://gohugo.io/content-management/urls/ ​ 通过前置元数据输入和站点配置中的设置来控制URL的结构和外观。 概述 # ​ 默认情况下，当Hugo渲染页面时，生成的URL与"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="contentmanagement"><meta property="article:published_time" content="2023-05-18T17:03:08+08:00"><meta property="article:modified_time" content="2023-05-18T17:03:08+08:00"><title>URL管理 | HUGO</title>
<link rel=manifest href=/hugo/manifest.json><link rel=icon href=/hugo/favicon.png><link rel=canonical href=https://t.is-local.org/hugo/contentmanagement/urlmanagement/><link rel=stylesheet href=/hugo/book.min.309b7ed028807cdb68d8d61e26d609f48369c098dbf5e4d8c0dcf4cdf49feafc.css integrity="sha256-MJt+0CiAfNto2NYeJtYJ9INpwJjb9eTYwNz0zfSf6vw=" crossorigin=anonymous><script defer src=/hugo/fuse.min.js></script><script defer src=/hugo/zh-cn.search.min.a426f3a0e1e8951a39b1b352645e382bb08b14b3d53468b1f8b07b0d0928cfe6.js integrity="sha256-pCbzoOHolRo5sbNSZF44K7CLFLPVNGix+LB7DQkoz+Y=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/hugo/><span>HUGO</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder aria-label maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul class=book-languages><li><input type=checkbox id=languages class=toggle>
<label for=languages class="flex justify-between"><a role=button class="flex align-center"><img src=/hugo/svg/translate.svg class=book-icon alt=Languages>
中文</a></label><ul><li><a href=https://t.is-local.org/hugo/en/>English</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/hugo/svg/menu.svg class=book-icon alt=Menu>
</label><strong>URL管理</strong>
<label for=toc-control><img src=/hugo/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#概述>概述</a></li><li><a href=#前置元数据>前置元数据</a><ul><li><a href=#slug><code>slug</code></a></li><li><a href=#url><code>url</code></a></li></ul></li><li><a href=#站点配置>站点配置</a><ul><li><a href=#permalinks--永久链接>Permalinks 永久链接</a></li><li><a href=#外观>外观</a></li><li><a href=#post-processing>Post-processing</a></li></ul></li><li><a href=#别名>别名</a><ul><li><a href=#示例>示例</a></li><li><a href=#别名的工作原理>别名的工作原理</a></li><li><a href=#自定义>自定义</a></li></ul></li><li><a href=#另请参阅>另请参阅</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=url-management---url管理>URL Management - URL管理
<a class=anchor href=#url-management---url%e7%ae%a1%e7%90%86>#</a></h1><p><a href=https://gohugo.io/content-management/urls/>https://gohugo.io/content-management/urls/</a></p><p>​ 通过前置元数据输入和站点配置中的设置来控制URL的结构和外观。</p><h2 id=概述>概述
<a class=anchor href=#%e6%a6%82%e8%bf%b0>#</a></h2><p>​ 默认情况下，当Hugo渲染页面时，生成的URL与<code>content</code>目录中的文件路径匹配。例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>content/posts/post-1.md → https://example.org/posts/post-1/
</span></span></code></pre></div><p>​ 您可以通过前置元数据值和站点配置选项来更改URL的结构和外观。</p><h2 id=前置元数据>前置元数据
<a class=anchor href=#%e5%89%8d%e7%bd%ae%e5%85%83%e6%95%b0%e6%8d%ae>#</a></h2><h3 id=slug><code>slug</code>
<a class=anchor href=#slug>#</a></h3><p>Set the <code>slug</code> in 前置元数据 to override the last segment of the path. The <code>slug</code> value does not affect section pages.</p><p>​ 在前置元数据中设置<code>slug</code>以覆盖路径的最后一段。<code>slug</code>值不影响部分页面。</p><p>content/posts/post-1.md</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>``` yaml
---
slug: my-first-post
title: My First Post
---

```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>``` toml
+++
slug = 'my-first-post'
title = 'My First Post'
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>``` json
{
   &quot;slug&quot;: &quot;my-first-post&quot;,
   &quot;title&quot;: &quot;My First Post&quot;
}
```
</code></pre><p>​ 结果的URL将是：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>https://example.org/posts/my-first-post/
</span></span></code></pre></div><h3 id=url><code>url</code>
<a class=anchor href=#url>#</a></h3><p>​ 在前置元数据中设置<code>url</code>以覆盖整个路径。将其用于常规页面或section页面。</p><p>​ 具有以下前置元数据的：</p><p>content/posts/post-1.md</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>``` yaml
---
title: My First Article
url: /articles/my-first-article
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>``` toml
+++
title = 'My First Article'
url = '/articles/my-first-article'
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>``` json
{
   &quot;title&quot;: &quot;My First Article&quot;,
   &quot;url&quot;: &quot;/articles/my-first-article&quot;
}
```
</code></pre><p>​ 结果的URL将是：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>https://example.org/articles/my-first-article/
</span></span></code></pre></div><p>​ 如果包括文件扩展名：</p><p>content/posts/post-1.md</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>``` yaml
---
title: My First Article
url: /articles/my-first-article.html
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>``` toml
+++
title = 'My First Article'
url = '/articles/my-first-article.html'
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>``` json
{
   &quot;title&quot;: &quot;My First Article&quot;,
   &quot;url&quot;: &quot;/articles/my-first-article.html&quot;
}
```
</code></pre><p>结果的URL将是：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>https://example.org/articles/my-first-article.html
</span></span></code></pre></div><p>​ 在单语站点中，带有或不带有前导斜杠的<code>url</code>值相对于<code>baseURL</code>。</p><p>​ 在多语言站点中：</p><ul><li>带有前导斜杠的<code>url</code>值相对于<code>baseURL</code>。</li><li>没有前导斜杠的<code>url</code>值相对于<code>baseURL</code>加上语言前缀。</li></ul><table><thead><tr><th style=text-align:left>Site type</th><th style=text-align:left>前置元数据 <code>url</code></th><th style=text-align:left>Resulting URL</th></tr></thead><tbody><tr><td style=text-align:left>monolingual</td><td style=text-align:left><code>/about</code></td><td style=text-align:left><code>https://example.org/about/</code></td></tr><tr><td style=text-align:left>monolingual</td><td style=text-align:left><code>about</code></td><td style=text-align:left><code>https://example.org/about/</code></td></tr><tr><td style=text-align:left>multilingual</td><td style=text-align:left><code>/about</code></td><td style=text-align:left><code>https://example.org/about/</code></td></tr><tr><td style=text-align:left>multilingual</td><td style=text-align:left><code>about</code></td><td style=text-align:left><code>https://example.org/de/about/</code></td></tr></tbody></table><p>​ 如果在前置元数据中同时设置<code>slug</code>和<code>url</code>，则<code>url</code>值优先。</p><h2 id=站点配置>站点配置
<a class=anchor href=#%e7%ab%99%e7%82%b9%e9%85%8d%e7%bd%ae>#</a></h2><h3 id=permalinks--永久链接>Permalinks 永久链接
<a class=anchor href=#permalinks--%e6%b0%b8%e4%b9%85%e9%93%be%e6%8e%a5>#</a></h3><p>​ 在站点配置中，为顶层section内的常规页面设置URL模式。这是递归的，影响后代常规页面。</p><blockquote><p>​ 在站点配置中定义的<code>permalinks</code>不适用于section页面。要调整section页面的URL，请在前置元数据中设置<code>url</code>。</p></blockquote><h4 id=例子>例子
<a class=anchor href=#%e4%be%8b%e5%ad%90>#</a></h4><p>​ 使用此内容结构：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>content/
</span></span><span style=display:flex><span>├── posts/
</span></span><span style=display:flex><span>│   ├── _index.md
</span></span><span style=display:flex><span>│   ├── post-1.md
</span></span><span style=display:flex><span>│   └── post-2.md
</span></span><span style=display:flex><span>└── _index.md
</span></span></code></pre></div><p>​ 为<code>posts</code> section内的普通页面创建一个基于日期的递归层次结构：</p><p>config.</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>``` yaml
posts: /posts/:year/:month/:title/
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>``` toml
posts = '/posts/:year/:month/:title/'
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>``` json
{
   &quot;posts&quot;: &quot;/posts/:year/:month/:title/&quot;
}
```
</code></pre><p>​ 发布站点的结构将是：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>public/
</span></span><span style=display:flex><span>├── posts/
</span></span><span style=display:flex><span>│   ├── 2023/
</span></span><span style=display:flex><span>│   │   └── 03/
</span></span><span style=display:flex><span>│   │       ├── post-1/
</span></span><span style=display:flex><span>│   │       │   └── index.html
</span></span><span style=display:flex><span>│   │       └── post-2/
</span></span><span style=display:flex><span>│   │           └── index.html
</span></span><span style=display:flex><span>│   └── index.html
</span></span><span style=display:flex><span>├── favicon.ico
</span></span><span style=display:flex><span>└── index.html
</span></span></code></pre></div><p>​ 要为内容根目录中的常规页面创建基于日期的层次结构：</p><p>config.</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>``` yaml
/: /:year/:month/:title/
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>``` toml
'/' = '/:year/:month/:title/'
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>``` json
{
   &quot;/&quot;: &quot;/:year/:month/:title/&quot;
}
```
</code></pre><blockquote><p>​ 为内容根目录定义的URL模式不适用于递归。</p></blockquote><p>​ 使用相同的方法处理分类（taxonomies）。例如，要省略URL的分类段（taxonomy segment）：</p><p>config.</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>``` yaml
tags: /:title/
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>``` toml
tags = '/:title/'
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>``` json
{
   &quot;tags&quot;: &quot;/:title/&quot;
}
```
</code></pre><p>​ 前置元数据<code>url</code>值优先于<code>permalinks</code>中定义的URL模式。</p><h4 id=tokens>Tokens
<a class=anchor href=#tokens>#</a></h4><p>​ 在定义URL模式时使用这些标记。前置元数据中的<code>date</code>字段确定与时间相关的标记的值。</p><ul><li><p><code>:year</code></p><p>4位数字的年份</p></li><li><p><code>:month</code></p><p>2位数字的月份</p></li><li><p><code>:monthname</code></p><p>月份的名称</p></li><li><p><code>:day</code></p><p>2位数字的日期</p></li><li><p><code>:weekday</code></p><p>一周中的1位数字日期（星期日=0）</p></li><li><p><code>:weekdayname</code></p><p>一周中日期的名称</p></li><li><p><code>:yearday</code></p><p>1到3位数字的一年中的日期</p></li><li><p><code>:section</code></p><p>内容的section</p></li><li><p><code>:sections</code></p><p>内容的section层次结构。您可以使用切片语法选择section：<code>:sections[1:]</code> 包括除第一个部分以外的所有部分，<code>:sections[:last]</code> 包括除最后一个部分以外的所有部分，<code>:sections[last]</code> 仅包括最后一个部分，<code>:sections[1:2]</code> 包括第2个和第3个section (这里应该是由问题的：按照go的语法这里应该只包括第1个section才对吧)。请注意，这种切片访问不会抛出任何越界错误，因此您不必非常精确。</p></li><li><p><code>:title</code></p><p>内容的标题</p></li><li><p><code>:slug</code></p><p>内容的 slug（如果在前置元数据中未提供 slug，则使用title）</p></li><li><p><code>:slugorfilename</code></p><p>内容的 slug（如果在前置元数据中未提供 slug，则使用文件名）</p></li><li><p><code>:filename</code></p><p>内容的文件名（不包括扩展名）</p></li></ul><p>​ 对于与时间有关的值，您还可以使用 Go 的 <a href=https://pkg.go.dev/time#pkg-constants>time 包</a>中定义的布局字符串组件。例如：</p><p>config.</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>``` yaml
permalinks:
  posts: /:06/:1/:2/:title/
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>``` toml
[permalinks]
  posts = '/:06/:1/:2/:title/'
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>``` json
{
   &quot;permalinks&quot;: {
      &quot;posts&quot;: &quot;/:06/:1/:2/:title/&quot;
   }
}
```
</code></pre><h3 id=外观>外观
<a class=anchor href=#%e5%a4%96%e8%a7%82>#</a></h3><p>​ URL 的外观可以是丑陋的或漂亮的。</p><table><thead><tr><th style=text-align:left>Type</th><th style=text-align:left>Path</th><th style=text-align:left>URL</th></tr></thead><tbody><tr><td style=text-align:left>ugly</td><td style=text-align:left>content/about.md</td><td style=text-align:left><code>https://example.org/about.html</code></td></tr><tr><td style=text-align:left>pretty</td><td style=text-align:left>content/about.md</td><td style=text-align:left><code>https://example.org/about/</code></td></tr></tbody></table><p>​ 默认情况下，Hugo 生成漂亮的 URL。要生成丑陋的 URL，请更改您的站点配置：</p><p>config.</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>``` yaml
uglyURLs: true
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>``` toml
uglyURLs = true
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>``` json
{
   &quot;uglyURLs&quot;: true
}
```
</code></pre><h3 id=post-processing>Post-processing
<a class=anchor href=#post-processing>#</a></h3><p>​ Hugo 提供了两个相互排斥的配置选项，用于在渲染页面后更改 URL。</p><h4 id=canonical-urls---规范化-url->Canonical URLs （ 规范化 URL ）
<a class=anchor href=#canonical-urls---%e8%a7%84%e8%8c%83%e5%8c%96-url->#</a></h4><p>​ 这是一个传统的配置选项，被模板函数和 markdown 渲染钩子取代，很可能会在<a href=https://github.com/gohugoio/hugo/issues/4733>未来的版本中被删除</a>。</p><p>​ 如果启用，Hugo 在渲染页面后执行搜索和替换。它搜索与 <code>action</code>、<code>href</code>、<code>src</code>、<code>srcset</code> 和 <code>url</code> 属性相关联的站点相对 URL（具有前导斜杠）。然后，它添加 <code>baseURL</code> 来创建绝对 URL。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>&lt;a href=&#34;/about&#34;&gt; → &lt;a href=&#34;https://example.org/about/&#34;&gt;
</span></span><span style=display:flex><span>&lt;img src=&#34;/a.gif&#34;&gt; → &lt;img src=&#34;https://example.org/a.gif&#34;&gt;
</span></span></code></pre></div><p>​ 这是一种不完美、蛮力的方法，会影响内容以及HTML属性。正如上面提到的，这是一个旧的配置选项，可能会在未来的版本中被删除。</p><p>启用方法如下：</p><p>config.</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>``` yaml
canonifyURLs: true
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>``` toml
canonifyURLs = true
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>``` json
{
   &quot;canonifyURLs&quot;: true
}
```
</code></pre><h4 id=relative-urls>Relative URLs
<a class=anchor href=#relative-urls>#</a></h4><p>​ 除非您创建的是可通过文件系统导航的无服务器站点，否则不要启用此选项。</p><p>​ 如果启用此选项，Hugo将在渲染页面后执行搜索和替换。它将搜索与<code>action</code>、<code>href</code>、<code>src</code>、<code>srcset</code>和<code>url</code>属性相关的站点相对URL（带有前导斜杠）。然后将URL转换为相对于当前页面的URL。</p><p>​ 例如，在渲染<code>content/posts/post-1</code>时：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>&lt;a href=&#34;/about&#34;&gt; → &lt;a href=&#34;../../about&#34;&gt;
</span></span><span style=display:flex><span>&lt;img src=&#34;/a.gif&#34;&gt; → &lt;img src=&#34;../../a.gif&#34;&gt;
</span></span></code></pre></div><p>​ 这是一种不完美、蛮力的方法，会影响内容以及HTML属性。正如上面提到的，除非您创建的是可通过文件系统导航的无服务器站点，否则不要启用此选项。</p><p>启用方法如下：</p><p>config.</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>``` yaml
relativeURLs: true
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>``` toml
relativeURLs = true

```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>``` json
{
   &quot;relativeURLs&quot;: true
}

```
</code></pre><h2 id=别名>别名
<a class=anchor href=#%e5%88%ab%e5%90%8d>#</a></h2><p>​ 使用别名从旧URL重定向到新URL：</p><ul><li>带有前导斜杠的别名相对于<code>baseURL</code></li><li>没有前导斜杠的别名相对于当前目录</li></ul><h3 id=示例>示例
<a class=anchor href=#%e7%a4%ba%e4%be%8b>#</a></h3><p>​ 更改现有页面的文件名，并创建从先前URL到新URL的别名：</p><p>content/posts/new-file-name.md.</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>``` yaml
aliases:
- /posts/previous-file-name
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>``` toml
aliases = ['/posts/previous-file-name']

```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>``` json
{
   &quot;aliases&quot;: [
      &quot;/posts/previous-file-name&quot;
   ]
}

```
</code></pre><p>Each of these directory-relative aliases is equivalent to the site-relative alias above:</p><p>​ 这些目录相对别名与上面的站点相对别名等效：</p><ul><li><p><code>previous-file-name</code></p></li><li><p><code>./previous-file-name</code></p></li><li><p><code>../posts/previous-file-name</code></p></li></ul><p>​ 您可以为当前页面创建多个别名：</p><p>content/posts/new-file-name.md.</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>``` yaml
aliases:
- previous-file-name
- original-file-name
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>``` toml
aliases = ['previous-file-name', 'original-file-name']

```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>``` json
{
   &quot;aliases&quot;: [
      &quot;previous-file-name&quot;,
      &quot;original-file-name&quot;
   ]
}

```
</code></pre><p>​ 在多语言站点中，可以使用目录相对别名，或者使用站点相对别名包含语言前缀：</p><p>content/posts/new-file-name.de.md.</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>``` yaml
aliases:
- /de/posts/previous-file-name
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>``` toml
aliases = ['/de/posts/previous-file-name']

```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>``` json
{
   &quot;aliases&quot;: [
      &quot;/de/posts/previous-file-name&quot;
   ]
}
```
</code></pre><h3 id=别名的工作原理>别名的工作原理
<a class=anchor href=#%e5%88%ab%e5%90%8d%e7%9a%84%e5%b7%a5%e4%bd%9c%e5%8e%9f%e7%90%86>#</a></h3><p>​ 使用上面的第一个示例，Hugo 生成了以下站点结构：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>public/
</span></span><span style=display:flex><span>├── posts/
</span></span><span style=display:flex><span>│   ├── new-file-name/
</span></span><span style=display:flex><span>│   │   └── index.html
</span></span><span style=display:flex><span>│   ├── previous-file-name/
</span></span><span style=display:flex><span>│   │   └── index.html
</span></span><span style=display:flex><span>│   └── index.html
</span></span><span style=display:flex><span>└── index.html
</span></span></code></pre></div><p>​ 从旧的 URL 到新 URL 的别名是客户端重定向：</p><p>posts/previous-file-name/index.html</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>html</span> <span style=color:#a6e22e>lang</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;en-us&#34;</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>head</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>title</span>&gt;https://example.org/posts/new-file-name/&lt;/<span style=color:#f92672>title</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>link</span> <span style=color:#a6e22e>rel</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;canonical&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://example.org/posts/new-file-name/&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;robots&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;noindex&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>charset</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;utf-8&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>http-equiv</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;refresh&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0; url=https://example.org/posts/new-file-name/&#34;</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#f92672>head</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>html</span>&gt;
</span></span></code></pre></div><p>Collectively, the elements in the <code>head</code> section:</p><p>​ <code>head</code> 部分的元素总结如下：</p><ul><li>告诉搜索引擎新的 URL 是规范的（canonical）</li><li>告诉搜索引擎不要索引旧的 URL</li><li>告诉浏览器重定向到新的 URL</li></ul><p>​ Hugo 在渲染页面之前渲染别名文件。带有先前文件名的新页面将覆盖别名，这是预期的。</p><h3 id=自定义>自定义
<a class=anchor href=#%e8%87%aa%e5%ae%9a%e4%b9%89>#</a></h3><p>​ 创建一个新的模板（<code>layouts/alias.html</code>）来自定义别名文件的内容。该模板接收以下上下文：</p><ul><li><p><code>Permalink</code></p><p>被别名的页面链接</p></li><li><p><code>Page</code></p><p>被别名的页面的 Page 数据</p></li></ul><h2 id=另请参阅>另请参阅
<a class=anchor href=#%e5%8f%a6%e8%af%b7%e5%8f%82%e9%98%85>#</a></h2><ul><li><a href=https://gohugo.io/content-management/organization/>内容组织</a></li><li><a href=https://gohugo.io/getting-started/configuration/>配置 Hugo</a></li><li><a href=https://gohugo.io/content-management/cross-references/>链接和交叉引用</a></li><li><a href=https://gohugo.io/templates/menu-templates/>菜单模板</a></li><li><a href=https://gohugo.io/content-management/menus/>菜单</a></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#概述>概述</a></li><li><a href=#前置元数据>前置元数据</a><ul><li><a href=#slug><code>slug</code></a></li><li><a href=#url><code>url</code></a></li></ul></li><li><a href=#站点配置>站点配置</a><ul><li><a href=#permalinks--永久链接>Permalinks 永久链接</a></li><li><a href=#外观>外观</a></li><li><a href=#post-processing>Post-processing</a></li></ul></li><li><a href=#别名>别名</a><ul><li><a href=#示例>示例</a></li><li><a href=#别名的工作原理>别名的工作原理</a></li><li><a href=#自定义>自定义</a></li></ul></li><li><a href=#另请参阅>另请参阅</a></li></ul></nav></div></aside></main></body></html>