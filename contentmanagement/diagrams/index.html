<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Diagrams # Use fenced code blocks and markdown render hooks to display diagrams. New in v0.93.0 GoAT Diagrams (Ascii) # Hugo supports GoAT natively. This means that this code block: ```goat . . . .--- 1 .-- 1 / 1 / \ | | .---+ .-+ + / \ .---+---. .--+--. | '--- 2 | '-- 2 / \ 2 + + | | | | ---+ ---+ + /"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://t.is-local.org/hugo/contentmanagement/diagrams/"><meta property="og:site_name" content="HUGO"><meta property="og:title" content="图表"><meta property="og:description" content="Diagrams # Use fenced code blocks and markdown render hooks to display diagrams. New in v0.93.0 GoAT Diagrams (Ascii) # Hugo supports GoAT natively. This means that this code block: ```goat . . . .--- 1 .-- 1 / 1 / \ | | .---+ .-+ + / \ .---+---. .--+--. | '--- 2 | '-- 2 / \ 2 + + | | | | ---+ ---+ + /"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="contentmanagement"><meta property="article:published_time" content="2023-05-18T17:03:08+08:00"><meta property="article:modified_time" content="2023-05-18T17:03:08+08:00"><title>图表 | HUGO</title>
<link rel=manifest href=/hugo/manifest.json><link rel=icon href=/hugo/favicon.png><link rel=canonical href=https://t.is-local.org/hugo/contentmanagement/diagrams/><link rel=stylesheet href=/hugo/book.min.309b7ed028807cdb68d8d61e26d609f48369c098dbf5e4d8c0dcf4cdf49feafc.css integrity="sha256-MJt+0CiAfNto2NYeJtYJ9INpwJjb9eTYwNz0zfSf6vw=" crossorigin=anonymous><script defer src=/hugo/fuse.min.js></script><script defer src=/hugo/zh-cn.search.min.a426f3a0e1e8951a39b1b352645e382bb08b14b3d53468b1f8b07b0d0928cfe6.js integrity="sha256-pCbzoOHolRo5sbNSZF44K7CLFLPVNGix+LB7DQkoz+Y=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/hugo/><span>HUGO</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder aria-label maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul class=book-languages><li><input type=checkbox id=languages class=toggle>
<label for=languages class="flex justify-between"><a role=button class="flex align-center"><img src=/hugo/svg/translate.svg class=book-icon alt=Languages>
中文</a></label><ul><li><a href=https://t.is-local.org/hugo/en/>English</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/hugo/svg/menu.svg class=book-icon alt=Menu>
</label><strong>图表</strong>
<label for=toc-control><img src=/hugo/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#goat-diagrams-ascii>GoAT Diagrams (Ascii)</a></li><li><a href=#mermaid-diagrams>Mermaid Diagrams</a></li><li><a href=#goat-ascii-diagram-examples>Goat Ascii Diagram Examples</a><ul><li><a href=#graphics>Graphics</a></li><li><a href=#complex>Complex</a></li><li><a href=#process>Process</a></li><li><a href=#file-tree>File tree</a></li><li><a href=#sequence-diagram>Sequence Diagram</a></li><li><a href=#flowchart>Flowchart</a></li><li><a href=#table>Table</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=diagrams>Diagrams
<a class=anchor href=#diagrams>#</a></h1><p>Use fenced code blocks and markdown render hooks to display diagrams.</p><p><a href=https://github.com/gohugoio/hugo/releases/tag/v0.93.0>New in v0.93.0</a></p><h2 id=goat-diagrams-ascii>GoAT Diagrams (Ascii)
<a class=anchor href=#goat-diagrams-ascii>#</a></h2><p>Hugo supports <a href=https://github.com/bep/goat>GoAT</a> natively. This means that this code block:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>```goat
</span></span><span style=display:flex><span>      .               .                .               .--- 1          .-- 1     / 1
</span></span><span style=display:flex><span>     / \              |                |           .---+            .-+         +
</span></span><span style=display:flex><span>    /   \         .---+---.         .--+--.        |   &#39;--- 2      |   &#39;-- 2   / \ 2
</span></span><span style=display:flex><span>   +     +        |       |        |       |    ---+            ---+          +
</span></span><span style=display:flex><span>  / \   / \     .-+-.   .-+-.     .+.     .+.      |   .--- 3      |   .-- 3   \ / 3
</span></span><span style=display:flex><span> /   \ /   \    |   |   |   |    |   |   |   |     &#39;---+            &#39;-+         +
</span></span><span style=display:flex><span> 1   2 3   4    1   2   3   4    1   2   3   4         &#39;--- 4          &#39;-- 4     \ 4
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>```
</span></span></code></pre></div><p>Will be rendered as:</p><p><img src=../hugo/Diagrams_img/image-20230418212959281.png alt=image-20230418212959281 data-cur-dir=. data-rg=/hugo/Diagrams_img/image-20230418212959281.png data-rel=/hugo/Diagrams_img/image-20230418212959281.png data-2my></p><h2 id=mermaid-diagrams>Mermaid Diagrams
<a class=anchor href=#mermaid-diagrams>#</a></h2><p>Hugo currently does not provide default templates for Mermaid diagrams. But you can easily add your own. One way to do it would be to create <code>layouts/_default/_markup/render-codeblock-mermaid.html</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mermaid&#34;</span>&gt;
</span></span><span style=display:flex><span>  <span style=color:#75715e>{{-</span> <span style=color:#a6e22e>.Inner</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>safeHTML</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>.Page.Store.Set</span> <span style=color:#e6db74>&#34;hasMermaid&#34;</span> <span style=color:#66d9ef>true</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><p>And then include this snippet at the bottom of the content template (<strong>Note</strong>: below <code>.Content</code> as the render hook is not processed until <code>.Content</code> is executed):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>.Page.Store.Get</span> <span style=color:#e6db74>&#34;hasMermaid&#34;</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;module&#34;</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>import</span> <span style=color:#a6e22e>mermaid</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mermaid</span>.<span style=color:#a6e22e>initialize</span>({ <span style=color:#a6e22e>startOnLoad</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span> });
</span></span><span style=display:flex><span>  &lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><p>With that you can use the <code>mermaid</code> language in Markdown code blocks:</p><pre tabindex=0><code>```mermaid
sequenceDiagram
    participant Alice
    participant Bob
    Alice-&gt;&gt;John: Hello John, how are you?
    loop Healthcheck
        John-&gt;&gt;John: Fight against hypochondria
    end
    Note right of John: Rational thoughts &lt;br/&gt;prevail!
    John--&gt;&gt;Alice: Great!
    John-&gt;&gt;Bob: How about you?
    Bob--&gt;&gt;John: Jolly good!
```
</code></pre><h2 id=goat-ascii-diagram-examples>Goat Ascii Diagram Examples
<a class=anchor href=#goat-ascii-diagram-examples>#</a></h2><h3 id=graphics>Graphics
<a class=anchor href=#graphics>#</a></h3><p><img src=../hugo/Diagrams_img/image-20230418213039435.png alt=image-20230418213039435 data-cur-dir=. data-rg=/hugo/Diagrams_img/image-20230418213039435.png data-rel=/hugo/Diagrams_img/image-20230418213039435.png data-2my></p><h3 id=complex>Complex
<a class=anchor href=#complex>#</a></h3><p><img src=../hugo/Diagrams_img/image-20230418213057019.png alt=image-20230418213057019 data-cur-dir=. data-rg=/hugo/Diagrams_img/image-20230418213057019.png data-rel=/hugo/Diagrams_img/image-20230418213057019.png data-2my></p><h3 id=process>Process
<a class=anchor href=#process>#</a></h3><p><img src=../hugo/Diagrams_img/image-20230418213112054.png alt=image-20230418213112054 data-cur-dir=. data-rg=/hugo/Diagrams_img/image-20230418213112054.png data-rel=/hugo/Diagrams_img/image-20230418213112054.png data-2my></p><h3 id=file-tree>File tree
<a class=anchor href=#file-tree>#</a></h3><p>Created from <a href=https://arthursonzogni.com/Diagon/#Tree>https://arthursonzogni.com/Diagon/#Tree</a></p><p><img src=../hugo/Diagrams_img/image-20230418213127200.png alt=image-20230418213127200 data-cur-dir=. data-rg=/hugo/Diagrams_img/image-20230418213127200.png data-rel=/hugo/Diagrams_img/image-20230418213127200.png data-2my></p><h3 id=sequence-diagram>Sequence Diagram
<a class=anchor href=#sequence-diagram>#</a></h3><p><a href=https://arthursonzogni.com/Diagon/#Sequence>https://arthursonzogni.com/Diagon/#Sequence</a></p><p><img src=../hugo/Diagrams_img/image-20230418213140087.png alt=image-20230418213140087 data-cur-dir=. data-rg=/hugo/Diagrams_img/image-20230418213140087.png data-rel=/hugo/Diagrams_img/image-20230418213140087.png data-2my></p><h3 id=flowchart>Flowchart
<a class=anchor href=#flowchart>#</a></h3><p><a href=https://arthursonzogni.com/Diagon/#Flowchart>https://arthursonzogni.com/Diagon/#Flowchart</a></p><p><img src=../hugo/Diagrams_img/image-20230418213154601.png alt=image-20230418213154601 data-cur-dir=. data-rg=/hugo/Diagrams_img/image-20230418213154601.png data-rel=/hugo/Diagrams_img/image-20230418213154601.png data-2my></p><h3 id=table>Table
<a class=anchor href=#table>#</a></h3><p><a href=https://arthursonzogni.com/Diagon/#Table>https://arthursonzogni.com/Diagon/#Table</a></p><p><img src=../hugo/Diagrams_img/image-20230418213220528.png alt=image-20230418213220528 data-cur-dir=. data-rg=/hugo/Diagrams_img/image-20230418213220528.png data-rel=/hugo/Diagrams_img/image-20230418213220528.png data-2my></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#goat-diagrams-ascii>GoAT Diagrams (Ascii)</a></li><li><a href=#mermaid-diagrams>Mermaid Diagrams</a></li><li><a href=#goat-ascii-diagram-examples>Goat Ascii Diagram Examples</a><ul><li><a href=#graphics>Graphics</a></li><li><a href=#complex>Complex</a></li><li><a href=#process>Process</a></li><li><a href=#file-tree>File tree</a></li><li><a href=#sequence-diagram>Sequence Diagram</a></li><li><a href=#flowchart>Flowchart</a></li><li><a href=#table>Table</a></li></ul></li></ul></nav></div></aside></main></body></html>