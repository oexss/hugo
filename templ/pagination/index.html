<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Pagination - 分页 # ​ Hugo支持对主页、章节页面和分类目录进行分页。 ​ Hugo分页功能真正的强大之处在于与where函数及其类似SQL的操作符：fi"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://t.is-local.org/hugo/templ/pagination/"><meta property="og:site_name" content="HUGO"><meta property="og:title" content="分页"><meta property="og:description" content="Pagination - 分页 # ​ Hugo支持对主页、章节页面和分类目录进行分页。 ​ Hugo分页功能真正的强大之处在于与where函数及其类似SQL的操作符：fi"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="templ"><meta property="article:published_time" content="2023-05-18T17:03:08+08:00"><meta property="article:modified_time" content="2023-05-18T17:03:08+08:00"><title>分页 | HUGO</title>
<link rel=manifest href=/hugo/manifest.json><link rel=icon href=/hugo/favicon.png><link rel=canonical href=https://t.is-local.org/hugo/templ/pagination/><link rel=stylesheet href=/hugo/book.min.309b7ed028807cdb68d8d61e26d609f48369c098dbf5e4d8c0dcf4cdf49feafc.css integrity="sha256-MJt+0CiAfNto2NYeJtYJ9INpwJjb9eTYwNz0zfSf6vw=" crossorigin=anonymous><script defer src=/hugo/fuse.min.js></script><script defer src=/hugo/zh-cn.search.min.a426f3a0e1e8951a39b1b352645e382bb08b14b3d53468b1f8b07b0d0928cfe6.js integrity="sha256-pCbzoOHolRo5sbNSZF44K7CLFLPVNGix+LB7DQkoz+Y=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/hugo/><span>HUGO</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder aria-label maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul class=book-languages><li><input type=checkbox id=languages class=toggle>
<label for=languages class="flex justify-between"><a role=button class="flex align-center"><img src=/hugo/svg/translate.svg class=book-icon alt=Languages>
中文</a></label><ul><li><a href=https://t.is-local.org/hugo/en/>English</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/hugo/svg/menu.svg class=book-icon alt=Menu>
</label><strong>分页</strong>
<label for=toc-control><img src=/hugo/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#配置分页>配置分页</a></li><li><a href=#列出分页器页面>列出分页器页面</a></li><li><a href=#构建导航>构建导航</a></li><li><a href=#附加信息>附加信息</a></li><li><a href=#另请参阅>另请参阅</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=pagination---分页>Pagination - 分页
<a class=anchor href=#pagination---%e5%88%86%e9%a1%b5>#</a></h1><p>​ Hugo支持对主页、章节页面和分类目录进行分页。</p><p>​ Hugo分页功能真正的强大之处在于与<a href=https://gohugo.io/functions/where/><code>where</code>函数</a>及其类似SQL的操作符：<code>first</code>、<code>last</code>和<code>after</code>相结合使用。您甚至可以按照Hugo中熟悉的方式对<a href=https://gohugo.io/templates/lists/>内容进行排序</a>。</p><h2 id=配置分页>配置分页
<a class=anchor href=#%e9%85%8d%e7%bd%ae%e5%88%86%e9%a1%b5>#</a></h2><p>​ 可以在<a href=https://gohugo.io/getting-started/configuration/>站点配置</a>中配置分页：</p><ul><li><p><code>paginate</code></p><p>默认值为<code>10</code>。这个设置可以在模板中被覆盖。</p></li><li><p><code>paginatePath</code></p><p>默认值为<code>page</code>。允许您为您的分页页面设置不同的路径。</p></li></ul><p>​ 将<code>paginate</code>设置为正值将把主页、章节和分类列表页面拆分为这个大小的块。但是请注意，对于章节、分类和主页的分页页面的生成是惰性的——如果没有通过<code>.Paginator</code>引用，这些页面将不会被创建（见下文）。</p><p>​ <code>paginatePath</code>用于调整分页器中页面的<code>URL</code>（默认设置会生成这样的URL形式<code>/page/1/</code>）。</p><h2 id=列出分页器页面>列出分页器页面
<a class=anchor href=#%e5%88%97%e5%87%ba%e5%88%86%e9%a1%b5%e5%99%a8%e9%a1%b5%e9%9d%a2>#</a></h2><p>​ 提供<code>.Paginator</code>帮助您构建分页器菜单。此功能目前仅在主页和列表页面（即分类和章节列表）上受支持。</p><p>​ 有两种配置和使用<code>.Paginator</code>的方法：</p><ol><li>最简单的方法是只需从模板中调用<code>.Paginator.Pages</code>。它将包含该页面的页面。</li><li>使用可用的模板函数和排序选项选择另一组页面，并将切片传递给<code>.Paginate</code>，例如</li></ol><ul><li><code>{{ range (.Paginate ( first 50 .Pages.ByTitle )).Pages }}</code> 或</li><li><code>{{ range (.Paginate .RegularPagesRecursive).Pages }}</code>.</li></ul><p>​ 对于给定的页面，它是上面选项之一。<code>.Paginator</code>是静态的，一旦创建就不能更改。</p><p>​ 如果在同一页中多次调用 <code>.Paginator</code> 或 <code>.Paginate</code>，您应该确保所有调用都是相同的。一旦在生成页面时调用了 <code>.Paginator</code> 或 <code>.Paginate</code>，其结果就会被缓存，任何后续相似的调用都将重用缓存的结果。这意味着任何不符合第一个调用的这种调用都不会按预期行事。</p><p>（请记住，函数参数是急切地求值的，因此像 <code>$paginator := cond x .Paginator (.Paginate .RegularPagesRecursive)</code> 这样的调用就是您不应该做的事情。请使用 <code>if/else</code> 确保恰好有一个求值。）</p><p>​ 全局页面大小设置（<code>Paginate</code>）可以通过提供正整数作为最后一个参数来覆盖。下面的示例将每页显示五个项：</p><ul><li><code>{{ range (.Paginator 5).Pages }}</code></li><li><code>{{ $paginator := .Paginate (where .Pages "Type" "posts") 5 }}</code></li></ul><p>也可以将 <code>GroupBy</code> 函数与分页结合使用：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>range</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>.Paginate</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>.Pages.GroupByDate</span> <span style=color:#e6db74>&#34;2006&#34;</span><span style=color:#f92672>))</span><span style=color:#a6e22e>.PageGroups</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h2 id=构建导航>构建导航
<a class=anchor href=#%e6%9e%84%e5%bb%ba%e5%af%bc%e8%88%aa>#</a></h2><p>​ <code>.Paginator</code> 包含构建分页界面所需的足够信息。</p><p>​ 将内置模板（具有与 Bootstrap 兼容的样式）包含到您的页面中是添加此内容的最简单方法：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>template</span> <span style=color:#e6db74>&#34;_internal/pagination.html&#34;</span> <span style=color:#a6e22e>.</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><p>​ 如果使用任何过滤器或排序函数来创建您的 <code>.Paginator</code>，并且您希望在显示页面列表之前显示导航按钮，则必须在使用之前创建 <code>.Paginator</code>。</p><p>​ 以下示例显示如何在使用 <code>.Paginator</code> 之前创建 <code>.Paginator</code>：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$paginator</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>.Paginate</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>where</span> <span style=color:#a6e22e>.Pages</span> <span style=color:#e6db74>&#34;Type&#34;</span> <span style=color:#e6db74>&#34;posts&#34;</span><span style=color:#f92672>)</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>template</span> <span style=color:#e6db74>&#34;_internal/pagination.html&#34;</span> <span style=color:#a6e22e>.</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>$paginator</span><span style=color:#a6e22e>.Pages</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>   <span style=color:#75715e>{{</span> <span style=color:#a6e22e>.Title</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><p>​ 如果没有 <code>where</code> 过滤器，则上面的示例更加简单：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>template</span> <span style=color:#e6db74>&#34;_internal/pagination.html&#34;</span> <span style=color:#a6e22e>.</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>.Paginator.Pages</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>   <span style=color:#75715e>{{</span> <span style=color:#a6e22e>.Title</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><p>​ 如果您想要构建自定义的导航菜单，您可以使用<code>.Paginator</code>对象，它包括以下属性：</p><ul><li><p><code>PageNumber</code></p><p>当前页面在页面序列中的页码</p></li><li><p><code>URL</code></p><p>当前页面器的相对URL</p></li><li><p><code>Pages</code></p><p>当前页面器中的页面</p></li><li><p><code>NumberOfElements</code></p><p>此页面中的元素数量</p></li><li><p><code>HasPrev</code></p><p>当前页之前是否有页</p></li><li><p><code>Prev</code></p><p>前一页的分页器</p></li><li><p><code>HasNext</code></p><p>当前页之后是否有页</p></li><li><p><code>Next</code></p><p>下一页的分页器</p></li><li><p><code>First</code></p><p>第一页的分页器</p></li><li><p><code>Last</code></p><p>最后一页的分页器</p></li><li><p><code>Pagers</code></p><p>可用于构建分页菜单的分页器列表</p></li><li><p><code>PageSize</code></p><p>每个分页器的大小</p></li><li><p><code>TotalPages</code></p><p>分页器中的页面数</p></li><li><p><code>TotalNumberOfElements</code></p><p>此分页器中所有页面上的元素数</p></li></ul><h2 id=附加信息>附加信息
<a class=anchor href=#%e9%99%84%e5%8a%a0%e4%bf%a1%e6%81%af>#</a></h2><p>​ 页面按以下形式构建（<code>BLANK</code>表示没有值）：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>[SECTION/TAXONOMY/BLANK]/index.html
</span></span><span style=display:flex><span>[SECTION/TAXONOMY/BLANK]/page/1/index.html =&gt; redirect to  [SECTION/TAXONOMY/BLANK]/index.html
</span></span><span style=display:flex><span>[SECTION/TAXONOMY/BLANK]/page/2/index.html
</span></span><span style=display:flex><span>....
</span></span></code></pre></div><h2 id=另请参阅>另请参阅
<a class=anchor href=#%e5%8f%a6%e8%af%b7%e5%8f%82%e9%98%85>#</a></h2><ul><li><a href=https://gohugo.io/functions/getpage/>.GetPage</a></li><li><a href=https://gohugo.io/content-management/sections/>内容章节</a></li><li><a href=https://gohugo.io/content-management/types/>内容类型</a></li><li><a href=https://gohugo.io/templates/lists/>在Hugo中的内容列表</a></li><li><a href=https://gohugo.io/templates/menu-templates/>菜单模板</a></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#配置分页>配置分页</a></li><li><a href=#列出分页器页面>列出分页器页面</a></li><li><a href=#构建导航>构建导航</a></li><li><a href=#附加信息>附加信息</a></li><li><a href=#另请参阅>另请参阅</a></li></ul></nav></div></aside></main></body></html>