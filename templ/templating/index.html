<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Introduction to Hugo Templating - Hugo模板入门介绍 # https://gohugo.io/templates/introduction/ ​ Hugo 使用 Go 的 html/template 和 text/template 库作为模板的基础。 ​ 以下仅为 Go 模板的入门指南。若想深入了解 Go 模板，请查看官方 Go 文档。 ​ Go"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://t.is-local.org/hugo/templ/templating/"><meta property="og:site_name" content="HUGO"><meta property="og:title" content="Hugo模板入门介绍"><meta property="og:description" content="Introduction to Hugo Templating - Hugo模板入门介绍 # https://gohugo.io/templates/introduction/ ​ Hugo 使用 Go 的 html/template 和 text/template 库作为模板的基础。 ​ 以下仅为 Go 模板的入门指南。若想深入了解 Go 模板，请查看官方 Go 文档。 ​ Go"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="templ"><meta property="article:published_time" content="2023-05-18T17:03:08+08:00"><meta property="article:modified_time" content="2023-05-18T17:03:08+08:00"><title>Hugo模板入门介绍 | HUGO</title>
<link rel=manifest href=/hugo/manifest.json><link rel=icon href=/hugo/favicon.png><link rel=canonical href=https://t.is-local.org/hugo/templ/templating/><link rel=stylesheet href=/hugo/book.min.309b7ed028807cdb68d8d61e26d609f48369c098dbf5e4d8c0dcf4cdf49feafc.css integrity="sha256-MJt+0CiAfNto2NYeJtYJ9INpwJjb9eTYwNz0zfSf6vw=" crossorigin=anonymous><script defer src=/hugo/fuse.min.js></script><script defer src=/hugo/zh-cn.search.min.a426f3a0e1e8951a39b1b352645e382bb08b14b3d53468b1f8b07b0d0928cfe6.js integrity="sha256-pCbzoOHolRo5sbNSZF44K7CLFLPVNGix+LB7DQkoz+Y=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/hugo/><span>HUGO</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder aria-label maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul class=book-languages><li><input type=checkbox id=languages class=toggle>
<label for=languages class="flex justify-between"><a role=button class="flex align-center"><img src=/hugo/svg/translate.svg class=book-icon alt=Languages>
中文</a></label><ul><li><a href=https://t.is-local.org/hugo/en/>English</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/hugo/svg/menu.svg class=book-icon alt=Menu>
</label><strong>Hugo模板入门介绍</strong>
<label for=toc-control><img src=/hugo/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#基本语法>基本语法</a><ul><li><a href=#访问预定义变量>访问预定义变量</a></li></ul></li><li><a href=#变量>变量</a></li><li><a href=#函数>函数</a><ul><li><a href=#示例1添加数字>示例1：添加数字</a></li><li><a href=#示例2比较数字>示例2：比较数字</a></li></ul></li><li><a href=#includes>Includes</a><ul><li><a href=#partial>Partial</a></li><li><a href=#模板>模板</a></li></ul></li><li><a href=#逻辑>逻辑</a><ul><li><a href=#迭代>迭代</a></li><li><a href=#条件语句>条件语句</a></li></ul></li><li><a href=#管道>管道</a><ul><li><a href=#示例1-shuffle>示例1： <code>shuffle</code></a></li><li><a href=#示例2-index>示例2： <code>index</code></a></li><li><a href=#示例3-带有isset的or>示例3： 带有<code>isset</code>的<code>or</code></a></li></ul></li><li><a href=#上下文也称点>上下文（也称"点"）</a><ul><li><a href=#1定义一个独立于上下文的变量>1.定义一个独立于上下文的变量</a></li><li><a href=#2使用访问全局上下文>2.使用<code>$.</code>访问全局上下文</a></li></ul></li><li><a href=#空格>空格</a></li><li><a href=#注释>注释</a><ul><li><a href=#go模板注释>Go模板注释</a></li><li><a href=#html-注释>HTML 注释</a></li></ul></li><li><a href=#hugo参数>Hugo参数</a></li><li><a href=#使用内容page参数>使用内容（<code>page</code>）参数</a></li><li><a href=#使用站点配置参数>使用站点配置参数</a></li><li><a href=#示例显示未来事件>示例：显示未来事件</a></li><li><a href=#另请参阅>另请参阅</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=introduction-to-hugo-templating---hugo模板入门介绍>Introduction to Hugo Templating - Hugo模板入门介绍
<a class=anchor href=#introduction-to-hugo-templating---hugo%e6%a8%a1%e6%9d%bf%e5%85%a5%e9%97%a8%e4%bb%8b%e7%bb%8d>#</a></h1><p><a href=https://gohugo.io/templates/introduction/>https://gohugo.io/templates/introduction/</a></p><p>​ Hugo 使用 Go 的 <code>html/template</code> 和 <code>text/template</code> 库作为模板的基础。</p><p>​ 以下仅为 Go 模板的入门指南。若想深入了解 Go 模板，请查看官方 <a href=https://golang.org/pkg/text/template/>Go 文档</a>。</p><p>​ Go 模板提供了一种极其简单的模板语言，坚信只有最基本的逻辑应该放在模板或视图层中。</p><h2 id=基本语法>基本语法
<a class=anchor href=#%e5%9f%ba%e6%9c%ac%e8%af%ad%e6%b3%95>#</a></h2><p>​ Go 模板是 HTML 文件，并加入了<a href=https://gohugo.io/variables>变量</a>和<a href=https://gohugo.io/functions>函数</a>。Go 模板的变量和函数可以在 <code>{{ }}</code>中进行访问。</p><h3 id=访问预定义变量>访问预定义变量
<a class=anchor href=#%e8%ae%bf%e9%97%ae%e9%a2%84%e5%ae%9a%e4%b9%89%e5%8f%98%e9%87%8f>#</a></h3><p>​ 预定义变量可以是当前作用域中已经存在的变量（如下面<a href=https://gohugo.io/templates/introduction/#variables>变量章节</a>的<code>.Title</code>示例），也可以是自定义变量（如该章节中的<code>$address</code>示例）。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>.Title</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$address</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><p>​ 函数的参数使用空格分隔。通常的语法如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>FUNCTION</span> <span style=color:#a6e22e>ARG1</span> <span style=color:#a6e22e>ARG2</span> <span style=color:#a6e22e>..</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><p>​ 下面的示例使用<code>1</code>和<code>2</code>作为<code>add</code>函数的输入：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>add</span> <span style=color:#a6e22e>1</span> <span style=color:#a6e22e>2</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h4 id=通过点符号访问方法和字段>通过点符号访问方法和字段
<a class=anchor href=#%e9%80%9a%e8%bf%87%e7%82%b9%e7%ac%a6%e5%8f%b7%e8%ae%bf%e9%97%ae%e6%96%b9%e6%b3%95%e5%92%8c%e5%ad%97%e6%ae%b5>#</a></h4><p>​ 访问在内容前置元数据中定义的 Page 参数中的 <code>bar</code>。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>.Params.bar</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h4 id=括号可以用来分组项>括号可以用来分组项
<a class=anchor href=#%e6%8b%ac%e5%8f%b7%e5%8f%af%e4%bb%a5%e7%94%a8%e6%9d%a5%e5%88%86%e7%bb%84%e9%a1%b9>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>or</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>isset</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;alt&#34;</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>isset</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;caption&#34;</span><span style=color:#f92672>)</span> <span style=color:#75715e>}}</span> Caption <span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h4 id=单个语句可以分成多行>单个语句可以分成多行
<a class=anchor href=#%e5%8d%95%e4%b8%aa%e8%af%ad%e5%8f%a5%e5%8f%af%e4%bb%a5%e5%88%86%e6%88%90%e5%a4%9a%e8%a1%8c>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>or</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>(</span><span style=color:#a6e22e>isset</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;alt&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>(</span><span style=color:#a6e22e>isset</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;caption&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}}</span>
</span></span></code></pre></div><h4 id=原始字符串字面值可以包含换行符>原始字符串字面值可以包含换行符
<a class=anchor href=#%e5%8e%9f%e5%a7%8b%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%ad%97%e9%9d%a2%e5%80%bc%e5%8f%af%e4%bb%a5%e5%8c%85%e5%90%ab%e6%8d%a2%e8%a1%8c%e7%ac%a6>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$msg</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>`Line one.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Line two.`</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h2 id=变量>变量
<a class=anchor href=#%e5%8f%98%e9%87%8f>#</a></h2><p>​ 每个Go模板都有一个数据对象。在Hugo中，每个模板都传递了一个<code>Page</code>。在下面的示例中，<code>.Title</code>是<a href=https://gohugo.io/variables/page><code>Page</code>变量</a>中可访问的元素之一。</p><p>​ 由于Page是模板的默认作用域，因此可以通过点前缀(<code>.Title</code>)轻松访问当前作用域(<code>.</code> —— &ldquo;the <strong>dot</strong>")中的<code>Title</code>元素：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>&lt;<span style=color:#f92672>title</span>&gt;<span style=color:#75715e>{{</span> <span style=color:#a6e22e>.Title</span> <span style=color:#75715e>}}</span>&lt;/<span style=color:#f92672>title</span>&gt;
</span></span></code></pre></div><p>​ 值也可以存储在自定义变量中，并在之后被引用：</p><p>​ 自定义变量需要以<code>$</code>为前缀。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$address</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;123 Main St.&#34;</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$address</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><p>​ 使用<code>=</code>运算符可以重新定义变量。下面的示例在主页上打印"Var is Hugo Home&rdquo;，在其他所有页面上打印"Var is Hugo Page"：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$var</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;Hugo Page&#34;</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>.IsHome</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$var</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Hugo Home&#34;</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>Var is <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$var</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h2 id=函数>函数
<a class=anchor href=#%e5%87%bd%e6%95%b0>#</a></h2><p>​ Go模板仅提供了一些基本函数，但还提供了一种机制，使应用程序能够扩展原始函数集。</p><p>​ <a href=https://gohugo.io/functions>Hugo模板函数</a>提供了特定于构建站点的附加功能。通过使用函数名和由空格分隔的所需参数来调用函数。如果没有重新编译Hugo，则无法添加模板函数。</p><h3 id=示例1添加数字>示例1：添加数字
<a class=anchor href=#%e7%a4%ba%e4%be%8b1%e6%b7%bb%e5%8a%a0%e6%95%b0%e5%ad%97>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>add</span> <span style=color:#a6e22e>1</span> <span style=color:#a6e22e>2</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!-- prints 3 --&gt;</span>
</span></span></code></pre></div><h3 id=示例2比较数字>示例2：比较数字
<a class=anchor href=#%e7%a4%ba%e4%be%8b2%e6%af%94%e8%be%83%e6%95%b0%e5%ad%97>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>lt</span> <span style=color:#a6e22e>1</span> <span style=color:#a6e22e>2</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!-- prints true (i.e., since 1 is less than 2) --&gt;</span>
</span></span></code></pre></div><p>​ 请注意，这两个示例都使用了Go模板的<a href=https://gohugo.io/functions/math>math</a>函数。</p><p>​ 在<a href=https://golang.org/pkg/text/template/#hdr-Functions>Go模板文档</a>中，有比Hugo文档中列出的更多的布尔运算符。</p><h2 id=includes>Includes
<a class=anchor href=#includes>#</a></h2><p>​ 在包含（Include）另一个模板时，您需要传递它需要访问的数据。</p><p>​ 为了传递当前上下文，请记住包含一个尾随点。</p><p>​ 模板位置始终从Hugo的<code>layouts/</code>目录开始。</p><h3 id=partial>Partial
<a class=anchor href=#partial>#</a></h3><p>​ <code>partial</code>函数用于使用语法<code>{{ partial "&lt;PATH>/&lt;PARTIAL>.&lt;EXTENSION>" . }}</code>包含部分（partial）模板。</p><p>​ 包含<code>layouts/partials/header.html</code>部分（partial）模板的示例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>partial</span> <span style=color:#e6db74>&#34;header.html&#34;</span> <span style=color:#a6e22e>.</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h3 id=模板>模板
<a class=anchor href=#%e6%a8%a1%e6%9d%bf>#</a></h3><p>​ 在早期版本的Hugo中，<code>template</code>函数用于包含部分（partial）模板。现在，它仅用于调用<a href=https://gohugo.io/templates/internal>内部模板</a>。语法为<code>{{ template "_internal/&lt;TEMPLATE>.&lt;EXTENSION>" . }}</code>。</p><p>​ 可以在<a href=https://github.com/gohugoio/hugo/tree/master/tpl/tplimpl/embedded/templates>这里</a>找到可用的内部模板。</p><p>​ 包含内部<code>opengraph.html</code>模板的示例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>template</span> <span style=color:#e6db74>&#34;_internal/opengraph.html&#34;</span> <span style=color:#a6e22e>.</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h2 id=逻辑>逻辑
<a class=anchor href=#%e9%80%bb%e8%be%91>#</a></h2><p>​ Go模板提供了最基本的迭代和条件逻辑。</p><h3 id=迭代>迭代
<a class=anchor href=#%e8%bf%ad%e4%bb%a3>#</a></h3><p>​ Go模板大量使用<code>range</code>来迭代map、array或slice。以下是如何使用<code>range</code>的不同示例。</p><h4 id=示例1使用上下文>示例1：使用上下文(<code>.</code>)
<a class=anchor href=#%e7%a4%ba%e4%be%8b1%e4%bd%bf%e7%94%a8%e4%b8%8a%e4%b8%8b%e6%96%87>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>$array</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>{{</span> <span style=color:#a6e22e>.</span> <span style=color:#75715e>}}</span> <span style=color:#75715e>&lt;!-- The . represents an element in $array --&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h4 id=示例2为数组元素的值声明变量名>示例2：为数组元素的值声明变量名
<a class=anchor href=#%e7%a4%ba%e4%be%8b2%e4%b8%ba%e6%95%b0%e7%bb%84%e5%85%83%e7%b4%a0%e7%9a%84%e5%80%bc%e5%a3%b0%e6%98%8e%e5%8f%98%e9%87%8f%e5%90%8d>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>$elem_val</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>$array</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$elem_val</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h4 id=示例3为数组元素的索引和值声明变量名>示例3：为数组元素的索引和值声明变量名
<a class=anchor href=#%e7%a4%ba%e4%be%8b3%e4%b8%ba%e6%95%b0%e7%bb%84%e5%85%83%e7%b4%a0%e7%9a%84%e7%b4%a2%e5%bc%95%e5%92%8c%e5%80%bc%e5%a3%b0%e6%98%8e%e5%8f%98%e9%87%8f%e5%90%8d>#</a></h4><p>​ 对于数组或切片，第一个声明的变量将映射到每个元素的索引。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>$elem_index</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>$elem_val</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>$array</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>   <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$elem_index</span> <span style=color:#75715e>}}</span> -- <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$elem_val</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h4 id=示例4为map元素的键和值声明变量名>示例4：为map元素的键和值声明变量名
<a class=anchor href=#%e7%a4%ba%e4%be%8b4%e4%b8%bamap%e5%85%83%e7%b4%a0%e7%9a%84%e9%94%ae%e5%92%8c%e5%80%bc%e5%a3%b0%e6%98%8e%e5%8f%98%e9%87%8f%e5%90%8d>#</a></h4><p>​ 对于map，第一个声明的变量将映射到每个map元素的键。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>$elem_key</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>$elem_val</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>$map</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>   <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$elem_key</span> <span style=color:#75715e>}}</span> -- <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$elem_val</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h4 id=示例5针对空map数组或切片的条件语句>示例5：针对空map、数组或切片的条件语句
<a class=anchor href=#%e7%a4%ba%e4%be%8b5%e9%92%88%e5%af%b9%e7%a9%bamap%e6%95%b0%e7%bb%84%e6%88%96%e5%88%87%e7%89%87%e7%9a%84%e6%9d%a1%e4%bb%b6%e8%af%ad%e5%8f%a5>#</a></h4><p>​ 如果传递给<code>range</code>的map、数组或切片长度为零，则将执行else语句。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>$array</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>{{</span> <span style=color:#a6e22e>.</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>else</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!-- This is only evaluated if $array is empty --&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h3 id=条件语句>条件语句
<a class=anchor href=#%e6%9d%a1%e4%bb%b6%e8%af%ad%e5%8f%a5>#</a></h3><p>​ <code>if</code>、<code>else</code>、<code>with</code>、<code>or</code>、<code>and</code>和<code>not</code>提供了处理Go模板中条件逻辑的框架。与<code>range</code>一样，<code>if</code>和<code>with</code>语句也是用<code>{{ end }}</code>关闭的。</p><p>​ Go 模板将以下值视为<code>false</code>：</p><ul><li><code>false</code> (boolean)</li><li><code>0</code> (integer)</li><li>任何长度为零的数组、切片、映射或字符串</li></ul><h4 id=示例1with>示例1：<code>with</code>
<a class=anchor href=#%e7%a4%ba%e4%be%8b1with>#</a></h4><p>​ 通常使用<code>with</code>编写"if something exists, do this"这样的语句。</p><p>​ <code>with</code>会在其作用域内重新绑定上下文(<code>.</code>)（就像在<code>range</code>中一样）。</p><p>​ 如果变量不存在，或者如果它按上面所述计算为"false"，则它会跳过该块。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>with</span> <span style=color:#a6e22e>.Params.title</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>h4</span>&gt;<span style=color:#75715e>{{</span> <span style=color:#a6e22e>.</span> <span style=color:#75715e>}}</span>&lt;/<span style=color:#f92672>h4</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h4 id=示例2withelse>示例2：<code>with</code>..<code>else</code>
<a class=anchor href=#%e7%a4%ba%e4%be%8b2withelse>#</a></h4><p>​ 下面的代码片段如果设置了"description"前置元数据的值，则使用它，否则使用默认的<code>.Summary</code><a href=https://gohugo.io/variables/page>页面变量</a>：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>with</span> <span style=color:#a6e22e>.Param</span> <span style=color:#e6db74>&#34;description&#34;</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>{{</span> <span style=color:#a6e22e>.</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>else</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>{{</span> <span style=color:#a6e22e>.Summary</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><p>​ 参见<a href=https://gohugo.io/functions/param><code>.Param</code>函数</a>。</p><h4 id=示例3if>示例3：<code>if</code>
<a class=anchor href=#%e7%a4%ba%e4%be%8b3if>#</a></h4><p>​ 编写<code>with</code>的另一种替代（更冗长）方法是使用<code>if</code>。在这里，<code>.</code>不会重新绑定。</p><p>​ 下面的示例是使用<code>if</code>重写的"示例1"：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>isset</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;title&#34;</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>h4</span>&gt;<span style=color:#75715e>{{</span> <span style=color:#66d9ef>index</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;title&#34;</span> <span style=color:#75715e>}}</span>&lt;/<span style=color:#f92672>h4</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h4 id=示例4ifelse>示例4：<code>if</code>..<code>else</code>
<a class=anchor href=#%e7%a4%ba%e4%be%8b4ifelse>#</a></h4><p>​ 下面的示例是使用<code>if</code> .. <code>else</code>重写的"示例2"，并使用<a href=https://gohugo.io/functions/isset><code>isset</code>函数</a>+ <code>.Params</code>变量（不同于<a href=https://gohugo.io/functions/param><code>.Param</code>函数</a>）：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>isset</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;description&#34;</span><span style=color:#f92672>)</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>{{</span> <span style=color:#66d9ef>index</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;description&#34;</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>else</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>{{</span> <span style=color:#a6e22e>.Summary</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h4 id=示例5-if--else-if--else>示例5： <code>if</code> .. <code>else if</code> .. <code>else</code>
<a class=anchor href=#%e7%a4%ba%e4%be%8b5-if--else-if--else>#</a></h4><p>​ 与<code>with</code>不同，<code>if</code>还可以包含<code>else if</code>子句。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>isset</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;description&#34;</span><span style=color:#f92672>)</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>{{</span> <span style=color:#66d9ef>index</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;description&#34;</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>isset</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;summary&#34;</span><span style=color:#f92672>)</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>{{</span> <span style=color:#66d9ef>index</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;summary&#34;</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>else</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>{{</span> <span style=color:#a6e22e>.Summary</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h4 id=示例6-and--or>示例6： <code>and</code> & <code>or</code>
<a class=anchor href=#%e7%a4%ba%e4%be%8b6-and--or>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>and</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>or</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>isset</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;title&#34;</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>isset</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;caption&#34;</span><span style=color:#f92672>))</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>isset</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;attr&#34;</span><span style=color:#f92672>))</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h2 id=管道>管道
<a class=anchor href=#%e7%ae%a1%e9%81%93>#</a></h2><p>​ Go模板最强大的组件之一是能够将操作一层层堆叠在一起。这是通过使用管道来完成的。从Unix管道借鉴而来，概念很简单：每个管道的输出都成为下一个管道的输入。</p><p>​ 由于Go模板的语法非常简单，因此管道对于能够链接在一起的函数调用非常重要。管道的一个限制是它们只能处理单个值，该值成为下一个管道的最后一个参数。</p><p>​ 一些简单的示例应该有助于帮助您了解如何使用管道。</p><h3 id=示例1-shuffle>示例1： <code>shuffle</code>
<a class=anchor href=#%e7%a4%ba%e4%be%8b1-shuffle>#</a></h3><p>​ 以下两个示例在功能上是相同的：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>shuffle</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>seq</span> <span style=color:#a6e22e>1</span> <span style=color:#a6e22e>5</span><span style=color:#f92672>)</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>seq</span> <span style=color:#a6e22e>1</span> <span style=color:#a6e22e>5</span><span style=color:#f92672>)</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>shuffle</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h3 id=示例2-index>示例2： <code>index</code>
<a class=anchor href=#%e7%a4%ba%e4%be%8b2-index>#</a></h3><p>​ 以下访问名为"disqus_url"的页面参数并转义HTML。此示例还使用内置于Go模板中的<a href=https://gohugo.io/functions/index-function/>index函数</a>：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>index</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;disqus_url&#34;</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>html</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h3 id=示例3-带有isset的or>示例3： 带有<code>isset</code>的<code>or</code>
<a class=anchor href=#%e7%a4%ba%e4%be%8b3-%e5%b8%a6%e6%9c%89isset%e7%9a%84or>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>or</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>or</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>isset</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;title&#34;</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>isset</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;caption&#34;</span><span style=color:#f92672>))</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>isset</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;attr&#34;</span><span style=color:#f92672>)</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>Stuff Here
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><p>可以重写为</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>isset</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;caption&#34;</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>or</span> <span style=color:#a6e22e>isset</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;title&#34;</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>or</span> <span style=color:#a6e22e>isset</span> <span style=color:#a6e22e>.Params</span> <span style=color:#e6db74>&#34;attr&#34;</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>Stuff Here
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h2 id=上下文也称点>上下文（也称"点"）
<a class=anchor href=#%e4%b8%8a%e4%b8%8b%e6%96%87%e4%b9%9f%e7%a7%b0%e7%82%b9>#</a></h2><p>​ Go模板最容易被忽视的理解概念是，<code>{{ . }}</code>始终指向当前上下文。</p><ul><li>在您的模板的顶层，它将是可用的数据集。</li><li>但是，在迭代中，它将具有循环中当前项的值；即<code>{{ . }}</code>将不再引用整个页面可用的数据。</li></ul><p>​ 如果您需要从循环内部访问页面级别的数据（例如，在前置元数据中设置的页面参数），则可能需要执行以下操作之一：</p><h3 id=1定义一个独立于上下文的变量>1.定义一个独立于上下文的变量
<a class=anchor href=#1%e5%ae%9a%e4%b9%89%e4%b8%80%e4%b8%aa%e7%8b%ac%e7%ab%8b%e4%ba%8e%e4%b8%8a%e4%b8%8b%e6%96%87%e7%9a%84%e5%8f%98%e9%87%8f>#</a></h3><p>​ 以下示例演示如何定义一个独立于上下文的变量。</p><p>tags-range-with-page-variable.html</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$title</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>.Site.Title</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>ul</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>.Params.tags</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/tags/</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>.</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>urlize</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span>&gt;<span style=color:#75715e>{{</span> <span style=color:#a6e22e>.</span> <span style=color:#75715e>}}</span>&lt;/<span style=color:#f92672>a</span>&gt;
</span></span><span style=display:flex><span>        - <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$title</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>ul</span>&gt;
</span></span></code></pre></div><p>请注意，一旦我们进入循环（即 <code>range</code>），<code>{{ . }}</code> 的值就已经改变了。我们在循环外面定义了一个变量（<code>{{ $title }}</code>），并为其分配了一个值，以便我们可以从循环内部访问该值。</p><h3 id=2使用访问全局上下文>2.使用<code>$.</code>访问全局上下文
<a class=anchor href=#2%e4%bd%bf%e7%94%a8%e8%ae%bf%e9%97%ae%e5%85%a8%e5%b1%80%e4%b8%8a%e4%b8%8b%e6%96%87>#</a></h3><p>​ <code>$</code> 在模板中具有特殊意义。<code>$</code>默认情况下被设置为 <code>.</code>（&ldquo;the dot&rdquo;）的起始值。这是<a href=https://golang.org/pkg/text/template/#hdr-Variables>Go text/template的文档功能</a>。这意味着您可以从任何地方访问全局上下文。下面是先前的代码块的等效示例，但现在使用 <code>$</code> 从全局上下文中获取 <code>.Site.Title</code>：</p><p>range-through-tags-w-global.html</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>&lt;<span style=color:#f92672>ul</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>.Params.tags</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/tags/</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>.</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>urlize</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span>&gt;<span style=color:#75715e>{{</span> <span style=color:#a6e22e>.</span> <span style=color:#75715e>}}</span>&lt;/<span style=color:#f92672>a</span>&gt;
</span></span><span style=display:flex><span>            - <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$.Site.Title</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>  &lt;/<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>ul</span>&gt;
</span></span></code></pre></div><p>​ 如果有人恶意重新定义特殊字符（例如 <code>{{ $ := .Site }}</code>），<code>$</code> 的内置魔力将停止工作。不要这样做。当然，您可以在全局上下文中使用 <code>{{ $ := . }}</code> 来重置 <code>$</code> 的默认值以恢复其功能。</p><h2 id=空格>空格
<a class=anchor href=#%e7%a9%ba%e6%a0%bc>#</a></h2><p>​ Go 1.6可以通过在相应的 <code>{{</code>或<code>}}</code>分隔符旁边包含连字符（<code>-</code>）和空格来修剪Go标记的两侧的空格的功能。</p><p>​ 例如，以下Go模板将在其HTML输出中包含换行符和水平制表符：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>&lt;<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>  <span style=color:#75715e>{{</span> <span style=color:#a6e22e>.Title</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>div</span>&gt;
</span></span></code></pre></div><p>它将输出：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>  Hello, World!
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>div</span>&gt;
</span></span></code></pre></div><p>​ 在以下示例中使用<code>-</code>将删除围绕<code>.Title</code>变量的额外空格并删除换行符：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>&lt;<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>  <span style=color:#75715e>{{-</span> <span style=color:#a6e22e>.Title</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>div</span>&gt;
</span></span></code></pre></div><p>它将输出：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>div</span>&gt;Hello, World!&lt;/<span style=color:#f92672>div</span>&gt;
</span></span></code></pre></div><p>Go 语言认为以下字符是空白字符：</p><ul><li>空格</li><li>水平制表符</li><li>回车符</li><li>换行符</li></ul><h2 id=注释>注释
<a class=anchor href=#%e6%b3%a8%e9%87%8a>#</a></h2><p>​ 为了使您的模板组织有序并在团队之间共享信息，您可能希望向您的模板添加注释。在Hugo中有两种方法可以做到这一点。</p><h3 id=go模板注释>Go模板注释
<a class=anchor href=#go%e6%a8%a1%e6%9d%bf%e6%b3%a8%e9%87%8a>#</a></h3><p>​ Go模板支持<code>{{/*</code>和<code>*/}}</code>来打开和关闭注释块。该块内的任何内容都不会被渲染。</p><p>例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>Bonsoir, <span style=color:#75715e>{{/* {{ add 0 + 2 }} */}}</span>Eliott.
</span></span></code></pre></div><p>将渲染<code>Bonsoir, Eliott.</code>，而不关心注释块中的语法错误（<code>add 0 + 2</code>）。</p><h3 id=html-注释>HTML 注释
<a class=anchor href=#html-%e6%b3%a8%e9%87%8a>#</a></h3><p>​ 您可以通过将 HTML 代码注释的字符串管道化到 <code>safeHTML</code> 中来添加 HTML 注释。</p><p>例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#e6db74>&#34;&lt;!-- This is an HTML comment --&gt;&#34;</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>safeHTML</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><p>​ 如果您需要使用变量构造这样的HTML注释，只需将<code>printf</code>管道化到<code>safeHTML</code>。</p><p>例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>printf</span> <span style=color:#e6db74>&#34;&lt;!-- Our website is named: %s --&gt;&#34;</span> <span style=color:#a6e22e>.Site.Title</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>safeHTML</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><h4 id=包含-go-模板的-html-注释>包含 Go 模板的 HTML 注释
<a class=anchor href=#%e5%8c%85%e5%90%ab-go-%e6%a8%a1%e6%9d%bf%e7%9a%84-html-%e6%b3%a8%e9%87%8a>#</a></h4><p>​ 默认情况下，HTML注释会被删除，但其内容仍将被求值。这意味着尽管HTML注释永远不会将任何内容渲染到最终的HTML页面，但其中包含的代码可能会导致构建过程失败。</p><p>​ 不要尝试使用HTML注释来注释掉Go模板代码。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>&lt;!-- </span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$author</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;Emma Goldman&#34;</span> <span style=color:#75715e>}}</span><span style=color:#75715e> was a great woman. --&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>$author</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><p>​ 模板引擎将删除HTML注释中的内容，但如果其中存在Go模板代码，则将首先求值任何Go模板代码。因此，上面的示例将渲染成<code>Emma Goldman</code>，因为<code>$author</code>变量在HTML注释中得到求值。但是，如果HTML注释中的代码有错误，构建将会失败。</p><h2 id=hugo参数>Hugo参数
<a class=anchor href=#hugo%e5%8f%82%e6%95%b0>#</a></h2><p>​ Hugo 提供了通过<a href=https://gohugo.io/getting-started/configuration>站点配置</a>（用于整个站点的值）或每个特定内容的元数据（即<a href=https://gohugo.io/content-management/front-matter>前置元数据</a>）向模板层传递值的选项。您可以定义任何类型的任何值，并在模板中任意使用它们，只要这些值得到<a href=https://gohugo.io/content-management/front-matter#front-matter-formats>前置元数据格式</a>支持。</p><h2 id=使用内容page参数>使用内容（<code>page</code>）参数
<a class=anchor href=#%e4%bd%bf%e7%94%a8%e5%86%85%e5%ae%b9page%e5%8f%82%e6%95%b0>#</a></h2><p>​ 您可以在单个内容的<a href=https://gohugo.io/content-management/front-matter>前置元数据</a>中提供变量以供模板使用。</p><p>​ Hugo 文档中使用了一个示例。大多数页面都受益于提供目录，但有时目录并不合适。我们在前置元数据中定义了一个 <code>notoc</code> 变量，当设置为 <code>true</code> 时，将防止目录呈现。</p><p>以下是示例前置元数据：</p><p>content/example.md</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>``` yaml
---
notoc: true
title: Example
---
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>``` toml
+++
notoc = true
title = 'Example'
+++
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>``` json
{
   &quot;notoc&quot;: true,
   &quot;title&quot;: &quot;Example&quot;
}
```
</code></pre><p>​ 以下是可以在 <code>toc.html</code> <a href=https://gohugo.io/templates/partials>局部模板</a>中使用的对应代码示例：</p><p>layouts/partials/toc.html</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>not</span> <span style=color:#a6e22e>.Params.notoc</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>aside</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>header</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>.Title</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>urlize</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>h3</span>&gt;<span style=color:#75715e>{{</span> <span style=color:#a6e22e>.Title</span> <span style=color:#75715e>}}</span>&lt;/<span style=color:#f92672>h3</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>a</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#f92672>header</span>&gt;
</span></span><span style=display:flex><span>  <span style=color:#75715e>{{</span> <span style=color:#a6e22e>.TableOfContents</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>aside</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;toc-toggle&#34;</span>&gt;&lt;/<span style=color:#f92672>a</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><p>​ 我们希望页面的默认行为是包含目录，除非另有指定。此模板检查此页面前置元数据中的 <code>notoc:</code> 字段是否为 <code>true</code>。</p><h2 id=使用站点配置参数>使用站点配置参数
<a class=anchor href=#%e4%bd%bf%e7%94%a8%e7%ab%99%e7%82%b9%e9%85%8d%e7%bd%ae%e5%8f%82%e6%95%b0>#</a></h2><p>​ 您可以在<a href=https://gohugo.io/getting-started/configuration>站点配置</a>文件中任意定义任何数量的站点级参数。这些参数在您的模板中全局可用。</p><p>​ 例如，您可以声明以下内容：</p><p>config.</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>``` yaml
params:
  copyrighthtml: Copyright &amp;#xA9; 2017 John Doe. All Rights Reserved.
  sidebarrecentlimit: 5
  twitteruser: spf13
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>``` toml
[params]
  copyrighthtml = 'Copyright &amp;#xA9; 2017 John Doe. All Rights Reserved.'
  sidebarrecentlimit = 5
  twitteruser = 'spf13'
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>``` json
{
   &quot;params&quot;: {
      &quot;copyrighthtml&quot;: &quot;Copyright \u0026#xA9; 2017 John Doe. All Rights Reserved.&quot;,
      &quot;sidebarrecentlimit&quot;: 5,
      &quot;twitteruser&quot;: &quot;spf13&quot;
   }
}
```
</code></pre><p>​ 在页脚布局中，您可以声明仅在提供了 <code>copyrighthtml</code> 参数时才呈现的 <code>&lt;footer></code>。如果提供了该参数，则需要通过 <a href=https://gohugo.io/functions/safehtml/><code>safeHTML</code> 函数</a>声明该字符串可以安全使用，以便 HTML 实体不会被再次转义。这使您可以轻松地每年 1 月 1 日仅更新顶级配置文件，而无需在模板中查找。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>.Site.Params.copyrighthtml</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>footer</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text-center&#34;</span>&gt;<span style=color:#75715e>{{</span> <span style=color:#a6e22e>.Site.Params.CopyrightHTML</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>safeHTML</span> <span style=color:#75715e>}}</span>&lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>footer</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><p>​ 一种替代写"<code>if</code>&ldquo;并引用同一值的方法是使用<code>with</code>。<code>with</code>在其作用域内重新绑定上下文(<code>.</code>)，如果该变量不存在，则跳过块：</p><p>layouts/partials/twitter.html</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>with</span> <span style=color:#a6e22e>.Site.Params.twitteruser</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://twitter.com/</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>.</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>rel</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;author&#34;</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>img</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/images/twitter.png&#34;</span> <span style=color:#a6e22e>width</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;48&#34;</span> <span style=color:#a6e22e>height</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;48&#34;</span> <span style=color:#a6e22e>title</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Twitter: </span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>.</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>alt</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Twitter&#34;</span>&gt;&lt;/<span style=color:#f92672>a</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span></code></pre></div><p>​ 最后，您也可以将"魔术常量"从您的布局中拉出来。以下示例使用<code>first</code>函数，以及<code>.RelPermalink</code>页面变量和<code>.Site.Pages</code>站点变量。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>&lt;<span style=color:#f92672>nav</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>h1</span>&gt;Recent Posts&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>ul</span>&gt;
</span></span><span style=display:flex><span>  <span style=color:#75715e>{{-</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>first</span> <span style=color:#a6e22e>.Site.Params.SidebarRecentLimit</span> <span style=color:#a6e22e>.Site.Pages</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>li</span>&gt;&lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>.RelPermalink</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span>&gt;<span style=color:#75715e>{{</span> <span style=color:#a6e22e>.Title</span> <span style=color:#75715e>}}</span>&lt;/<span style=color:#f92672>a</span>&gt;&lt;/<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span>  <span style=color:#75715e>{{-</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>-}}</span>
</span></span><span style=display:flex><span>  &lt;/<span style=color:#f92672>ul</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>nav</span>&gt;    
</span></span></code></pre></div><h2 id=示例显示未来事件>示例：显示未来事件
<a class=anchor href=#%e7%a4%ba%e4%be%8b%e6%98%be%e7%a4%ba%e6%9c%aa%e6%9d%a5%e4%ba%8b%e4%bb%b6>#</a></h2><p>​ 假设有以下内容结构和前置元数据：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>content/
</span></span><span style=display:flex><span>└── events/
</span></span><span style=display:flex><span>    ├── event-1.md
</span></span><span style=display:flex><span>    ├── event-2.md
</span></span><span style=display:flex><span>    └── event-3.md
</span></span></code></pre></div><p>content/events/event-1.md.</p><p>=== &ldquo;yaml&rdquo;</p><pre><code>``` yaml
date: 2021-12-06T10:37:16-08:00
draft: false
end_date: 2021-12-05T11:00:00-08:00
start_date: 2021-12-05T09:00:00-08:00
title: Event 1
```
</code></pre><p>=== &ldquo;toml&rdquo;</p><pre><code>``` toml
date = 2021-12-06T10:37:16-08:00
draft = false
end_date = 2021-12-05T11:00:00-08:00
start_date = 2021-12-05T09:00:00-08:00
title = 'Event 1'
```
</code></pre><p>=== &ldquo;json&rdquo;</p><pre><code>``` json
{
   &quot;date&quot;: &quot;2021-12-06T10:37:16-08:00&quot;,
   &quot;draft&quot;: false,
   &quot;end_date&quot;: &quot;2021-12-05T11:00:00-08:00&quot;,
   &quot;start_date&quot;: &quot;2021-12-05T09:00:00-08:00&quot;,
   &quot;title&quot;: &quot;Event 1&quot;
}
```
</code></pre><p>​ 这个<a href=https://gohugo.io/templates/partials>局部模板</a>渲染未来的事件：</p><p>layouts/partials/future-events.html</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>&lt;<span style=color:#f92672>h2</span>&gt;Future Events&lt;/<span style=color:#f92672>h2</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>ul</span>&gt;
</span></span><span style=display:flex><span>  <span style=color:#75715e>{{</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>where</span> <span style=color:#a6e22e>site</span><span style=color:#a6e22e>.RegularPages</span> <span style=color:#e6db74>&#34;Type&#34;</span> <span style=color:#e6db74>&#34;events&#34;</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>{{</span> <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>gt</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>.Params.start_date</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>time</span><span style=color:#a6e22e>.AsTime</span><span style=color:#f92672>)</span> <span style=color:#a6e22e>now</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$startDate</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>.Params.start_date</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>time</span><span style=color:#a6e22e>.Format</span> <span style=color:#e6db74>&#34;:date_medium&#34;</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>.RelPermalink</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span>&gt;<span style=color:#75715e>{{</span> <span style=color:#a6e22e>.LinkTitle</span> <span style=color:#75715e>}}</span>&lt;/<span style=color:#f92672>a</span>&gt; - <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$startDate</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>      &lt;/<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>ul</span>&gt;
</span></span></code></pre></div><p>​ 如果将前置元数据限制为TOML格式，并省略日期字段周围的引号，则可以执行日期比较而无需强制转换。</p><p>layouts/partials/future-events.html</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span>&lt;<span style=color:#f92672>h2</span>&gt;Future Events&lt;/<span style=color:#f92672>h2</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>ul</span>&gt;
</span></span><span style=display:flex><span>  <span style=color:#75715e>{{</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>where</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>where</span> <span style=color:#a6e22e>site</span><span style=color:#a6e22e>.RegularPages</span> <span style=color:#e6db74>&#34;Type&#34;</span> <span style=color:#e6db74>&#34;events&#34;</span><span style=color:#f92672>)</span> <span style=color:#e6db74>&#34;Params.start_date&#34;</span> <span style=color:#e6db74>&#34;gt&#34;</span> <span style=color:#a6e22e>now</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$startDate</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>.Params.start_date</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>time</span><span style=color:#a6e22e>.Format</span> <span style=color:#e6db74>&#34;:date_medium&#34;</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#75715e>{{</span> <span style=color:#a6e22e>.RelPermalink</span> <span style=color:#75715e>}}</span><span style=color:#e6db74>&#34;</span>&gt;<span style=color:#75715e>{{</span> <span style=color:#a6e22e>.LinkTitle</span> <span style=color:#75715e>}}</span>&lt;/<span style=color:#f92672>a</span>&gt; - <span style=color:#75715e>{{</span> <span style=color:#a6e22e>$startDate</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span>  <span style=color:#75715e>{{</span> <span style=color:#66d9ef>end</span> <span style=color:#75715e>}}</span>
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>ul</span>&gt;
</span></span></code></pre></div><h2 id=另请参阅>另请参阅
<a class=anchor href=#%e5%8f%a6%e8%af%b7%e5%8f%82%e9%98%85>#</a></h2><ul><li><a href=https://gohugo.io/variables/files/>文件变量</a></li><li><a href=https://gohugo.io/variables/menus/>菜单变量</a></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#基本语法>基本语法</a><ul><li><a href=#访问预定义变量>访问预定义变量</a></li></ul></li><li><a href=#变量>变量</a></li><li><a href=#函数>函数</a><ul><li><a href=#示例1添加数字>示例1：添加数字</a></li><li><a href=#示例2比较数字>示例2：比较数字</a></li></ul></li><li><a href=#includes>Includes</a><ul><li><a href=#partial>Partial</a></li><li><a href=#模板>模板</a></li></ul></li><li><a href=#逻辑>逻辑</a><ul><li><a href=#迭代>迭代</a></li><li><a href=#条件语句>条件语句</a></li></ul></li><li><a href=#管道>管道</a><ul><li><a href=#示例1-shuffle>示例1： <code>shuffle</code></a></li><li><a href=#示例2-index>示例2： <code>index</code></a></li><li><a href=#示例3-带有isset的or>示例3： 带有<code>isset</code>的<code>or</code></a></li></ul></li><li><a href=#上下文也称点>上下文（也称"点"）</a><ul><li><a href=#1定义一个独立于上下文的变量>1.定义一个独立于上下文的变量</a></li><li><a href=#2使用访问全局上下文>2.使用<code>$.</code>访问全局上下文</a></li></ul></li><li><a href=#空格>空格</a></li><li><a href=#注释>注释</a><ul><li><a href=#go模板注释>Go模板注释</a></li><li><a href=#html-注释>HTML 注释</a></li></ul></li><li><a href=#hugo参数>Hugo参数</a></li><li><a href=#使用内容page参数>使用内容（<code>page</code>）参数</a></li><li><a href=#使用站点配置参数>使用站点配置参数</a></li><li><a href=#示例显示未来事件>示例：显示未来事件</a></li><li><a href=#另请参阅>另请参阅</a></li></ul></nav></div></aside></main></body></html>